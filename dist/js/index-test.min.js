var rounds=20,initialCapital=100,data=Array.from({length:rounds},function(){return initialCapital}),width=500,height=350,margin=50,scaleX=d3.scaleLinear().domain([0,rounds]).range([margin,width-margin]),scaleY=d3.scaleLinear().domain([0,2*initialCapital]).range([height-margin,margin]),svg=d3.select(".chart").attr("width",width).attr("height",height),xAxis=svg.append("g").attr("class","chart__axis chart__axis--x").attr("transform","translate(0,".concat(height-margin,")")).call(d3.axisBottom(scaleX).ticks(rounds)),yAxis=svg.append("g").attr("class","chart__axis chart__axis--y").attr("transform","translate(".concat(margin,",0)")).call(d3.axisLeft(scaleY)),line=d3.line().x(function(a,t){return scaleX(t)}).y(function(a){return scaleY(a)}).curve(d3.curveLinear),path=svg.append("path").datum(data).attr("class","chart__line").attr("d",line);function updateChart(){path.datum(data).transition().duration(500).attr("d",line),yAxis.transition().duration(500).call(d3.axisLeft(scaleY))}function simulateGame(){data=[initialCapital];for(var a=1;a<rounds;a++){var t=.5<Math.random()?10:-10;data.push(Math.max(0,data[a-1]+t))}scaleY.domain([0,1.1*d3.max(data)]),updateChart()}d3.select(".controll-panel__btn-start").on("click",simulateGame),d3.select(".controll-panel__input--rounds").on("input",function(){rounds=+this.value,data=Array.from({length:rounds},function(){return initialCapital}),scaleX.domain([0,rounds]),xAxis.transition().duration(500).call(d3.axisBottom(scaleX).ticks(rounds)),updateChart()}),d3.select(".controll-panel__input--capital").on("input",function(){initialCapital=+this.value,data=Array.from({length:rounds},function(){return initialCapital}),scaleY.domain([0,2*initialCapital]),yAxis.transition().duration(500).call(d3.axisLeft(scaleY)),updateChart()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LXRlc3QuanMiXSwibmFtZXMiOlsicm91bmRzIiwiaW5pdGlhbENhcGl0YWwiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJoZWlnaHQiLCJtYXJnaW4iLCJzY2FsZVgiLCJkMyIsInNjYWxlTGluZWFyIiwiZG9tYWluIiwicmFuZ2UiLCJ3aWR0aCIsInNjYWxlWSIsInNlbGVjdCIsImF0dHIiLCJ4QXhpcyIsInN2ZyIsImFwcGVuZCIsImNvbmNhdCIsImNhbGwiLCJheGlzQm90dG9tIiwidGlja3MiLCJheGlzTGVmdCIsIngiLCJkIiwiaSIsInkiLCJsaW5lIiwiZGF0dW0iLCJkYXRhIiwiY3VydmUiLCJjdXJ2ZUxpbmVhciIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsInBhdGgiLCJ5QXhpcyIsImNoYW5nZSIsIk1hdGgiLCJyYW5kb20iLCJwdXNoIiwibWF4IiwidXBkYXRlQ2hhcnQiLCJvbiIsInNpbXVsYXRlR2FtZSIsInRoaXMiLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsT0FBUyxHQUNUQyxlQUFpQixJQURqQkQsS0FBTUUsTUFBS0MsS0FBQSxDQUFBQyxPQUFBSixNQUFBLEVBQUEsV0FBQSxPQUFBQyxjQUFBLENBQUEsRUFDWEEsTUFBQUEsSUFBY0ksT0FBTSxJQUFBQyxPQUFBLEdBQ2tCQyxPQUFBQyxHQUFBQyxZQUFBLEVBQUFDLE9BQUEsQ0FBQSxFQUFBVixPQUFBLEVBQUFXLE1BQUEsQ0FBQUwsT0FBQU0sTUFBQU4sT0FBQSxFQUFBTyxPQUFNWixHQUFBQSxZQUFjLEVBQUFTLE9BQUEsQ0FBQSxFQUFBLEVBQUFULGVBQUEsRUFBQVUsTUFBQSxDQUFBTixPQUFBQyxPQUFBQSxPQUFBLEVBQzNDRCxJQUFTRyxHQUFHTSxPQUFBLFFBQUEsRUFBQUMsS0FBQSxRQUFBSCxLQUFBLEVBQUFHLEtBQUEsU0FBQVYsTUFBQSxFQUUvQlcsTUFBQUMsSUFBQUMsT0FBQSxHQUFBLEVBQUFILEtBQUEsUUFBQSw0QkFBQSxFQUFBQSxLQUFBLFlBQUEsZUFBQUksT0FBQWQsT0FBQUMsT0FBQSxHQUFBLENBQUEsRUFBQWMsS0FBQVosR0FBQWEsV0FBQWQsTUFBQSxFQUFBZSxNQUFBdEIsTUFBQSxDQUFBLEVBQ01PLE1BQVNDLElBQUdDLE9BQUFBLEdBQVksRUFBRUMsS0FBQUEsUUFBV1YsNEJBQTZCLEVBQUdNLEtBQU0sWUFBRSxhQUFBYSxPQUFBYixPQUFBLEtBQUEsQ0FBQSxFQUFBYyxLQUFBWixHQUFBZSxTQUFBVixNQUFBLENBQUEsRUFJN0VJLEtBQVNILEdBQUFBLEtBQU8sRUFTakJVLEVBQUUsU0FBQ0MsRUFBR0MsR0FBQyxPQUFLbkIsT0FBT21CLENBQUMsQ0FBQyxDQUFBLEVBUDFCQyxFQUFBLFNBQUFGLEdBQUEsT0FBQVosT0FBQVksQ0FBQSxDQUFBLENBQUEsRUFDTVQsTUFBS1IsR0FBR1MsV0FBVyxFQUtuQlcsS0FBU1gsSUFBQ1csT0FDVCxNQUFBLEVBQUFDLE1BQUtDLElBQUEsRUFBQWYsS0FBQSxRQUFBLGFBQUEsRUFBQUEsS0FBQSxJQUFBYSxJQUFBLEVBU1osU0FSWWYsY0FDUGtCLEtBQU12QixNQUFHd0IsSUFBQUEsRUFTTEMsV0FBVyxFQUFFQyxTQUFTLEdBQUcsRUFObENuQixLQUFBLElBQUFhLElBQUEsRUFDTU8sTUFBSUYsV0FBYSxFQUFDQyxTQUFRTCxHQUFLLEVBQUNDLEtBQU1mLEdBQUFBLFNBQVlGLE1BQUUsQ0FBQSxDQVExRCxDQUdBLFNBUFNnQixlQUdMTyxLQUFNSCxDQUFBQSxnQkFDVixJQUFBLElBQUFQLEVBQUEsRUFBQUEsRUFBQTFCLE9BQUEwQixDQUFBLEdBQUEsQ0FNUSxJQUFJVyxFQUF5QixHQUFoQkMsS0FBS0MsT0FBTyxFQUFVLEdBQUssQ0FBQyxHQUpqRFQsS0FBQVUsS0FBQUYsS0FBQUcsSUFBQSxFQUFBWCxLQUFBSixFQUFBLEdBQUFXLENBQUEsQ0FBQSxDQUNBLENBQ0lQLE9BQVE3QixPQUFBQSxDQUFBQSxFQUFlLElBQWZBLEdBQWV3QyxJQUFBWCxJQUFBLEVBQUEsRUFDdkJZLFlBQWMsQ0FNbEIsQ0FHQWxDLEdBTElLLE9BQU9ILDRCQUE2QixFQUFFaUMsR0FBRSxRQUFBQyxZQUFBLEVBTTVDcEMsR0FMSWtDLE9BQUFBLGdDQUFhLEVBQUFDLEdBQUEsUUFBQSxXQUNqQjNDLE9BQUEsQ0FBQTZDLEtBQUFDLE1BTUloQixLQUFPNUIsTUFBTUMsS0FBSyxDQUFFQyxPQUFRSixNQUFPLEVBQUcsV0FBQSxPQUFNQyxjQUFjLENBQUEsRUFKOURNLE9BQUFHLE9BQUEsQ0FBQSxFQUFBVixPQUFBLEVBQ0djLE1BQU9tQixXQUFBLEVBQUFDLFNBQUEsR0FBQSxFQUFBZCxLQUFnQ1osR0FBQ2EsV0FBU3VCLE1BQUFBLEVBQVl0QixNQUFDdEIsTUFBQSxDQUFBLEVBQzlEYyxZQUFPLENBTVYsQ0FBQyxFQUNETixHQUxJc0IsT0FBTzVCLGlDQUFXLEVBQUF5QyxHQUFBLFFBQUEsV0FBRXZDLGVBQVFKLENBQUFBLEtBQUFBLE1BQVE4QixLQUFFNUIsTUFBQUMsS0FBQSxDQUFBQyxPQUFBSixNQUFBLEVBQUEsV0FBQSxPQUFBQyxjQUFBLENBQUEsRUFBQVksT0FBTVosT0FBQUEsQ0FBQUEsRUFBYyxFQUFkQSxlQUFjLEVBQUNtQyxNQUFBSCxXQUFBLEVBQUFDLFNBQUEsR0FBQSxFQUFBZCxLQUFBWixHQUFBZSxTQUFBVixNQUFBLENBQUEsRUFDM0ROLFlBQWMsQ0FVbEIsQ0FBQyIsImZpbGUiOiJpbmRleC10ZXN0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCByb3VuZHMgPSAyMDtcclxubGV0IGluaXRpYWxDYXBpdGFsID0gMTAwO1xyXG5sZXQgZGF0YSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IHJvdW5kcyB9LCAoKSA9PiBpbml0aWFsQ2FwaXRhbCk7XHJcbmNvbnN0IHdpZHRoID0gNTAwLCBoZWlnaHQgPSAzNTAsIG1hcmdpbiA9IDUwO1xyXG5cclxuLy8gQ3JlYXRlIHNjYWxlc1xyXG5jb25zdCBzY2FsZVggPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbMCwgcm91bmRzXSkucmFuZ2UoW21hcmdpbiwgd2lkdGggLSBtYXJnaW5dKTtcclxuY29uc3Qgc2NhbGVZID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWzAsIGluaXRpYWxDYXBpdGFsICogMl0pLnJhbmdlKFtoZWlnaHQgLSBtYXJnaW4sIG1hcmdpbl0pO1xyXG5cclxuLy8gQ3JlYXRlIFNWR1xyXG5jb25zdCBzdmcgPSBkMy5zZWxlY3QoXCIuY2hhcnRcIikuYXR0cihcIndpZHRoXCIsIHdpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCk7XHJcblxyXG4vLyBBZGQgYXhlc1xyXG5jb25zdCB4QXhpcyA9IHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImNoYXJ0X19heGlzIGNoYXJ0X19heGlzLS14XCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgYHRyYW5zbGF0ZSgwLCR7aGVpZ2h0IC0gbWFyZ2lufSlgKS5jYWxsKGQzLmF4aXNCb3R0b20oc2NhbGVYKS50aWNrcyhyb3VuZHMpKTtcclxuY29uc3QgeUF4aXMgPSBzdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJjaGFydF9fYXhpcyBjaGFydF9fYXhpcy0teVwiKS5hdHRyKFwidHJhbnNmb3JtXCIsIGB0cmFuc2xhdGUoJHttYXJnaW59LDApYCkuY2FsbChkMy5heGlzTGVmdChzY2FsZVkpKTtcclxuXHJcbiBcclxuLy8gQ3JlYXRlIGxpbmUgZ2VuZXJhdG9yXHJcbmNvbnN0IGxpbmUgPSBkMy5saW5lKClcclxuICAgIC54KChkLCBpKSA9PiBzY2FsZVgoaSkpXHJcbiAgICAueShkID0+IHNjYWxlWShkKSlcclxuICAgIC5jdXJ2ZShkMy5jdXJ2ZUxpbmVhcik7XHJcbiAgICBcclxuXHJcbi8vIEFwcGVuZCBwYXRoIGZvciBsaW5lIGNoYXJ0XHJcbmNvbnN0IHBhdGggPSBzdmcuYXBwZW5kKFwicGF0aFwiKS5kYXR1bShkYXRhKS5hdHRyKFwiY2xhc3NcIiwgXCJjaGFydF9fbGluZVwiKS5hdHRyKFwiZFwiLCBsaW5lKTtcclxuXHJcbi8vIFVwZGF0ZSBjaGFydCBmdW5jdGlvblxyXG5mdW5jdGlvbiB1cGRhdGVDaGFydCgpIHtcclxuICAgIHBhdGguZGF0dW0oZGF0YSlcclxuICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwMClcclxuICAgICAgICAuYXR0cihcImRcIiwgbGluZSk7XHJcbiAgICB5QXhpcy50cmFuc2l0aW9uKCkuZHVyYXRpb24oNTAwKS5jYWxsKGQzLmF4aXNMZWZ0KHNjYWxlWSkpO1xyXG59XHJcblxyXG4vLyBTaW11bGF0ZSBnYW1ibGluZyByb3VuZHNcclxuZnVuY3Rpb24gc2ltdWxhdGVHYW1lKCkge1xyXG4gICAgZGF0YSA9IFtpbml0aWFsQ2FwaXRhbF07XHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHJvdW5kczsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGNoYW5nZSA9IE1hdGgucmFuZG9tKCkgPiAwLjUgPyAxMCA6IC0xMDtcclxuICAgICAgICBkYXRhLnB1c2goTWF0aC5tYXgoMCwgZGF0YVtpIC0gMV0gKyBjaGFuZ2UpKTtcclxuICAgIH1cclxuICAgIHNjYWxlWS5kb21haW4oWzAsIGQzLm1heChkYXRhKSAqIDEuMV0pOyAvLyBBZGp1c3QgWS1heGlzIGR5bmFtaWNhbGx5XHJcbiAgICB1cGRhdGVDaGFydCgpO1xyXG59XHJcblxyXG4vLyBVSSBDb250cm9sc1xyXG5kMy5zZWxlY3QoXCIuY29udHJvbGwtcGFuZWxfX2J0bi1zdGFydFwiKS5vbihcImNsaWNrXCIsIHNpbXVsYXRlR2FtZSk7XHJcbmQzLnNlbGVjdChcIi5jb250cm9sbC1wYW5lbF9faW5wdXQtLXJvdW5kc1wiKS5vbihcImlucHV0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgcm91bmRzID0gK3RoaXMudmFsdWU7XHJcbiAgICBkYXRhID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm91bmRzIH0sICgpID0+IGluaXRpYWxDYXBpdGFsKTtcclxuICAgIHNjYWxlWC5kb21haW4oWzAsIHJvdW5kc10pO1xyXG4gICAgeEF4aXMudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwMCkuY2FsbChkMy5heGlzQm90dG9tKHNjYWxlWCkudGlja3Mocm91bmRzKSk7XHJcbiAgICB1cGRhdGVDaGFydCgpO1xyXG59KTtcclxuZDMuc2VsZWN0KFwiLmNvbnRyb2xsLXBhbmVsX19pbnB1dC0tY2FwaXRhbFwiKS5vbihcImlucHV0XCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgaW5pdGlhbENhcGl0YWwgPSArdGhpcy52YWx1ZTtcclxuICAgIGRhdGEgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3VuZHMgfSwgKCkgPT4gaW5pdGlhbENhcGl0YWwpO1xyXG4gICAgc2NhbGVZLmRvbWFpbihbMCwgaW5pdGlhbENhcGl0YWwgKiAyXSk7XHJcbiAgICB5QXhpcy50cmFuc2l0aW9uKCkuZHVyYXRpb24oNTAwKS5jYWxsKGQzLmF4aXNMZWZ0KHNjYWxlWSkpO1xyXG4gICAgdXBkYXRlQ2hhcnQoKTtcclxufSk7XHJcbiJdfQ==
